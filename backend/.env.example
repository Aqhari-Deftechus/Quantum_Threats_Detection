# Backend runtime defaults
QTD_ENVIRONMENT=development
QTD_LOG_LEVEL=INFO

# Long-distance face mode (keeps backward compatibility when false)
QTD_LONG_DISTANCE_MODE=false
QTD_LONG_DISTANCE_DET_SIZE=960x960

# Pre-detection resize controls
# auto = resize only when source short side is larger than QTD_INFERENCE_SHORT_SIDE
# off  = never resize before detection
QTD_INFERENCE_RESIZE_MODE=auto
QTD_INFERENCE_SHORT_SIDE=720

# Detection cadence controls
QTD_DETECT_EVERY_N_FRAMES=5
QTD_MAX_FACE_MATCHES_PER_CYCLE=5
QTD_LONG_DISTANCE_MAX_FACE_MATCHES_PER_CYCLE=12
QTD_MAX_MATCHES_HARD_CAP=64

# Small-face filter controls
QTD_MIN_FACE_AREA=6400
QTD_MIN_FACE_AREA_WARN_THRESHOLD=2500

# RTSP stability controls
QTD_RTSP_PREFER_FFMPEG=true
QTD_RTSP_BUFFER_SIZE=1
QTD_RTSP_READ_LATEST_FRAME=true

# WebRTC in-app signalling (FastAPI route)
QTD_WEBRTC_ENABLED=true
QTD_WEBRTC_SIGNALLING_PATH=/api/webrtc/offer

# External WHEP service (MediaMTX/go2rtc-like endpoint)
# Leave at default unless you run that service.
QTD_MEDIAMTX_WHEP_BASE_URL=http://127.0.0.1:8889
QTD_MEDIAMTX_WHEP_PATH_TEMPLATE=camera-{camera_id}


# profile presets
# Copy one preset below into backend/.env and adjust for your GPU:
# - backend/.env.long_distance.balanced.example
# - backend/.env.long_distance.max_recall.example
