# Backend runtime defaults
QTD_ENVIRONMENT=development
QTD_LOG_LEVEL=INFO

# Face engine mode
QTD_FACE_ENGINE_MODE=integrated

# Face source/runtime
QTD_FACE_DATASET_DIR=faces_db
QTD_FACE_SOURCE=0
QTD_FACE_MODEL_NAME=buffalo_l
QTD_FACE_DB_CACHE_PATH=backend/models/face_db.npz

# GPU policy
QTD_FACE_CTX_ID=0
QTD_FACE_ONNX_PROVIDERS=CUDAExecutionProvider,CPUExecutionProvider
QTD_FACE_FAIL_IF_NO_CUDA=false

# Detection controls
QTD_FACE_DET_SIZE=1600,1600
QTD_FACE_DET_CONF_THRESH=0.05
QTD_FACE_UPSCALE_FOR_DET=2.0
QTD_FACE_MIN_FACE_AREA=900
QTD_FACE_MAX_FACES=100

# Tile scan controls
QTD_FACE_TILE_SCAN_ENABLED=true
QTD_FACE_TILE_GRID=2,2
QTD_FACE_TILE_OVERLAP=0.05
QTD_FACE_TILE_DEDUP_IOU=0.50
QTD_FACE_FULL_FRAME_DET_WHEN_TILE=false

# Speed controls
QTD_FACE_DETECT_EVERY_N_FRAMES=5
QTD_FACE_RECOG_THRESH=0.20

# RTSP robustness
QTD_FACE_READ_TIMEOUT_SEC=10
QTD_FACE_RECONNECT_WAIT_SEC=2.0
QTD_FACE_FLUSH_FRAMES_ON_CONNECT=8

# Legacy pipeline controls (used only when QTD_FACE_ENGINE_MODE=legacy)
QTD_LONG_DISTANCE_MODE=false
QTD_LONG_DISTANCE_DET_SIZE=960x960
QTD_INFERENCE_RESIZE_MODE=auto
QTD_INFERENCE_SHORT_SIDE=720
QTD_DETECT_EVERY_N_FRAMES=5
QTD_MAX_FACE_MATCHES_PER_CYCLE=5
QTD_LONG_DISTANCE_MAX_FACE_MATCHES_PER_CYCLE=12
QTD_MAX_MATCHES_HARD_CAP=64
QTD_MIN_FACE_AREA=6400
QTD_MIN_FACE_AREA_WARN_THRESHOLD=2500
QTD_RTSP_PREFER_FFMPEG=true
QTD_RTSP_BUFFER_SIZE=1
QTD_RTSP_READ_LATEST_FRAME=true

# WebRTC in-app signalling (FastAPI route)
QTD_WEBRTC_ENABLED=true
QTD_WEBRTC_SIGNALLING_PATH=/api/webrtc/offer

# External WHEP service
QTD_MEDIAMTX_WHEP_BASE_URL=http://127.0.0.1:8889
QTD_MEDIAMTX_WHEP_PATH_TEMPLATE=camera-{camera_id}
